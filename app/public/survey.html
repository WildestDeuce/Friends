<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- JQuery -->
    <script src="http://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <!-- Bulma -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <!-- Bulma + fontawesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <!-- CSS Link -->
    <link rel="stylesheet" href="style.css">
    <title>Games With Friends</title>
</head>

<body>
    <section class="hero-is-success">
        <div class="hero-body">
            <div class="container">
                <h2 id="survey-header"> Gamer Profile</h2>
                <h3 id="directions">For Each Question Please select a vaule between 1 and 5</h3>
                <hr>
                <h3>
                    <strong>About You</strong>
                </h3>
                <h4>Name (required)</h4>
                <div class="field">
                    <div class="control">
                        <input class="input is-success name-field" type="text" placeholder="Type Your Name Here">
                    </div>
                </div>
                <h4>Link to Photo Image (required)</h4>
                <div class="field">
                    <div class="control">
                        <input class="input is-success photo-field" type="text"
                            placeholder="Link to Your Photo Goes Here">
                    </div>
                </div>
                <hr>
                <h3 class="question-header">Question 1</h3>
                <h4 class="survey-question">PC is the Master Race</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer1" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer1" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer1" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer1" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer1" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 2</h3>
                <h4 class="survey-question">My favorite games involve cards in some capacity</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer2" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer2" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer2" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer2" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer2" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 3</h3>
                <h4 class="survey-question">I LOVE LOOT BOXES!!!!!</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer3" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer3" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer3" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer3" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer3" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 4</h3>
                <h4 class="survey-question">I though Netflix's Black Mirror: Bandersnatch was a Work of Art!</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer4" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer4" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer4" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer4" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer4" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 5</h3>
                <h4 class="survey-question">Pokemon Go is a gaming event that has defined a generation</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer5" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer5" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer5" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer5" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer5" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 6</h3>
                <h4 class="survey-question">If at first you don't succeed...Throw Your Controller!</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer6" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer6" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer6" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer6" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer6" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 7</h3>
                <h4 class="survey-question">My Game Must have Loot Drops to hold my Attention</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer7" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer7" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer7" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer7" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer7" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 8</h3>
                <h4 class="survey-question">Tis Better to Game on Phone than At Home</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer8" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer8" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer8" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer8" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer8" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 9</h3>
                <h4 class="survey-question">Reddit is my preferred choice of Human Interaction</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer9" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer9" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer9" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer9" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer9" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <h3 class="question-header">Question 10</h3>
                <h4 class="survey-question">I'm not bad at this game...people are CHEATERS!!!!!</h4>
                <div class="control">
                    <label class="radio">
                        <input type="radio" name="answer10" value="1">
                        1 (strongly disagree)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer10" value="2">
                        2
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer10" value="3">
                        3 (meh)
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer10" value="4">
                        4
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer10" value="5">
                        5 (strongly agree)
                    </label>
                </div>
                <a class="button is-medium is-fullwidth is-success">Submit</a>
            </div>
        </div>

        <div class="container" id="app">
            <div class="modal">
                <div class="modal-background"></div>
                <div class="modal-content">
                    <!-- Any other Bulma elements you want -->
                    <div class="modal-name"></div>
                    <img class="modal-image" />
                
                </div>
                <button class="modal-close"></button>
            </div>                
        </div>

    </section>

    <script>

        $(".button").on("click", function () {
            let friendsHolder = {
                name: $(".name-field").val(),
                photo: $(".photo-field").val(),
                scores: []
            }
            console.log("button test in");
            $('input:radio:checked').each(function () {
                console.log($(this).val())
                friendsHolder.scores.push($(this).val());

            });
            console.log(friendsHolder);
            $.post("/api/friends", friendsHolder, function (data) {
                //data: Received from server
                console.log(data);
                
                $(".modal").addClass("is-active");
                $(".modal-name").text(data.name);
                $(".modal-image").attr("src",data.photo);
            });
        })


        $(".modal-close").click(function () {
            $(".modal").removeClass("is-active");
        });


    </script>

</body>

</html>